{% extends "agent/base.html" %}
{% block content %}

<div class="container-fluid mt-4">

  <!-- Page Title -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4>Newspaper Deliveries</h4>
  </div>

  <!-- Deliveries Table -->
  <div class="card shadow-sm">
    <div class="card-body table-responsive">

      <table class="table table-bordered table-hover align-middle text-center">
        <thead class="table-dark">
          <tr>
            <th>ID</th>
            <th>Customer</th>
            <th>Phone</th>
            <th>Date</th>
            <th>Status</th>
            <th>Remarks</th>
          </tr>
        </thead>

        <tbody>
          {% if deliveries %}
            {% for d in deliveries %}
            <tr>
              <td>{{ d.id }}</td>
              <td>{{ d.customer.name }}</td>
              <td>{{ d.customer.mobile }}</td>
              <td>{{ d.date }}</td>

              <!-- Status -->
              <td>
                {% if d.is_delivered %}
                  <span class="badge bg-success">Delivered</span>
                {% else %}
                  <span class="badge bg-danger">Not Delivered</span>
                {% endif %}
              </td>

              <td>
                {{ d.remarks|default:"-" }}
              </td>
            </tr>
            {% endfor %}
          {% else %}
            <tr>
              <td colspan="8" class="text-muted text-center">
                No delivery records found
              </td>
            </tr>
          {% endif %}
        </tbody>

      </table>

      <a href="/agent/adddelivery" class="btn btn-primary">Add Delevery Detail</a>

    </div>
  </div>

</div>

{% endblock %}
