{% extends "dashboard.html" %}
{% block content %}

<style>
  .agent-card {
    border: none;
    border-radius: 18px;
    background: linear-gradient(135deg, #1f2933, #111827);
    color: #fff;
    overflow: hidden;
  }

  .agent-avatar {
    width: 140px;
    height: 140px;
    object-fit: cover;
    border-radius: 50%;
    border: 4px solid #22c55e;
    box-shadow: 0 0 20px rgba(34,197,94,0.4);
  }

  .agent-name {
    font-weight: 600;
    font-size: 1.5rem;
  }

  .agent-info p {
    margin-bottom: 6px;
    font-size: 0.95rem;
    opacity: 0.9;
  }

  .agent-badge {
    background: #22c55e;
    color: #052e16;
    font-size: 0.75rem;
    padding: 6px 12px;
    border-radius: 999px;
    font-weight: 600;
    display: inline-block;
    margin-bottom: 10px;
  }
</style>

<div class="container mt-4">
  <h3 class="mb-4">ğŸ§‘â€ğŸ’¼ Your Delivery Agent</h3>

  {% for item in agents_data %}
  <div class="card agent-card shadow mb-4">
    <div class="card-body p-4">
      <div class="row align-items-center">

        <!-- Agent Photo -->
        <div class="col-md-4 text-center mb-3 mb-md-0">
          {% if item.agent.photo %}
            <img src="{{ item.agent.photo.url }}" class="agent-avatar">
          {% else %}
            <img src="https://via.placeholder.com/150" class="agent-avatar">
          {% endif %}
        </div>

        <!-- Agent Info -->
        <div class="col-md-8 agent-info">
          <span class="agent-badge">Assigned Agent</span>

          <h4 class="agent-name mb-2">
            {{ item.agent.full_name }}
          </h4>

          <p>ğŸ“ <strong>Mobile:</strong> {{ item.agent.mobile }}</p>
          <p>ğŸ“§ <strong>Email:</strong> {{ item.agent.email }}</p>
          <p>ğŸ¢ <strong>Agency:</strong> {{ item.agent.agency }}</p>
          <p>ğŸ“ <strong>Area:</strong> {{ item.agent.area }}</p>
        </div>

      </div>
    </div>
  </div>
  {% empty %}
    <p class="text-muted">No agent assigned yet.</p>
  {% endfor %}
</div>

{% endblock %}
